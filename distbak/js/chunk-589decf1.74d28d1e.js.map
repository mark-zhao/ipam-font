{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/views/Servers/List/index.vue?afab","webpack:///./src/views/Servers/List/SearchItem.vue?6bdd","webpack:///src/views/Servers/List/SearchItem.vue","webpack:///./src/views/Servers/List/SearchItem.vue?3552","webpack:///./src/views/Servers/List/SearchItem.vue","webpack:///./src/views/Servers/List/ServerList.vue?1828","webpack:///src/views/Servers/List/ServerList.vue","webpack:///./src/views/Servers/List/ServerList.vue?6ffb","webpack:///./src/views/Servers/List/ServerList.vue","webpack:///src/views/Servers/List/index.vue","webpack:///./src/views/Servers/List/index.vue?b072","webpack:///./src/views/Servers/List/index.vue","webpack:///./src/api/servers.js"],"names":["uncurryThis","PROPER_FUNCTION_NAME","PROPER","redefine","anObject","isPrototypeOf","$toString","fails","regExpFlags","TO_STRING","RegExpPrototype","RegExp","prototype","n$ToString","getFlags","NOT_GENERIC","call","source","flags","INCORRECT_NAME","name","R","this","p","rf","f","undefined","unsafe","$","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","render","_vm","_h","$createElement","_c","_self","staticClass","on","$event","click","ref","staticRenderFns","attrs","formInline","model","value","callback","$$v","$set","expression","_e","regionChange","_l","datas","index","key","staticStyle","onSubmit","_v","loading","Sync","data","ip","date","cluster","host","project","projects","roleadmin","created","methods","$emit","servers","setTimeout","component","style","display","download","tableData","json_fields","scopedSlots","_u","fn","scope","CreateVNCConsole","row","名称","uuid","项目","状态","IP","配置","宿主机","创建时间","可用区","role","$store","getters","Promise","getChannels","request","url","method","getData","params","pas","qs","stringify","resp","createBill","getBill","Syncdata","createVNCConsole"],"mappings":"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","file":"js/chunk-589decf1.74d28d1e.js","sourcesContent":["'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\nvar getFlags = uncurryThis(regExpFlags);\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && isPrototypeOf(RegExpPrototype, R) && !('flags' in RegExpPrototype) ? getFlags(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search\"},[_c('Search',{on:{\"onSubmit\":function($event){return _vm.click($event)}}})],1),_c('div',[_c('ServerList',{ref:\"ServerList\"})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"IP:\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入IP\"},model:{value:(_vm.formInline.ip),callback:function ($$v) {_vm.$set(_vm.formInline, \"ip\", $$v)},expression:\"formInline.ip\"}})],1),(_vm.roleadmin)?_c('el-form-item',{attrs:{\"label\":\"虚机名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入虚机名称支持模糊\"},model:{value:(_vm.formInline.name),callback:function ($$v) {_vm.$set(_vm.formInline, \"name\", $$v)},expression:\"formInline.name\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"主机名:\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"主机名\"},model:{value:(_vm.formInline.host),callback:function ($$v) {_vm.$set(_vm.formInline, \"host\", $$v)},expression:\"formInline.host\"}})],1),(_vm.roleadmin)?_c('el-form-item',{attrs:{\"label\":\"集群:\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"集群名称\"},on:{\"change\":_vm.regionChange},model:{value:(_vm.formInline.cluster),callback:function ($$v) {_vm.$set(_vm.formInline, \"cluster\", $$v)},expression:\"formInline.cluster\"}},_vm._l((_vm.datas.clusters),function(value,index){return _c('el-option',{key:index,attrs:{\"label\":value,\"value\":value}})}),1)],1):_vm._e(),(_vm.roleadmin)?_c('el-form-item',{attrs:{\"label\":\"项目:\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"项目名称\"},model:{value:(_vm.formInline.project),callback:function ($$v) {_vm.$set(_vm.formInline, \"project\", $$v)},expression:\"formInline.project\"}},_vm._l((_vm.projects),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":value}})}),1)],1):_vm._e(),(_vm.roleadmin)?_c('el-form-item',{attrs:{\"label\":\"查询日期\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"150px\"},attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.formInline.date),callback:function ($$v) {_vm.$set(_vm.formInline, \"date\", $$v)},expression:\"formInline.date\"}})],1):_vm._e(),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")]),(_vm.roleadmin)?_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.Sync}},[_vm._v(\"同步数据源\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-form :inline=\"true\" :model=\"formInline\" >\r\n    <el-form-item label=\"IP:\">\r\n      <el-input v-model=\"formInline.ip\" clearable placeholder=\"请输入IP\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"虚机名称\" v-if=roleadmin>\r\n      <el-input v-model=\"formInline.name\" clearable placeholder=\"请输入虚机名称支持模糊\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"主机名:\">\r\n      <el-input v-model=\"formInline.host\" clearable placeholder=\"主机名\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"集群:\" v-if=roleadmin>\r\n      <el-select v-model=\"formInline.cluster\" clearable @change=\"regionChange\" placeholder=\"集群名称\">\r\n        <el-option v-for=\"value,index in datas.clusters\" :key=index :label=value :value=value></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"项目:\" v-if=roleadmin>\r\n      <el-select  v-model=\"formInline.project\" clearable placeholder=\"项目名称\">\r\n        <el-option v-for=\"(value,key) in projects\" :key=key :label=value :value=value></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"查询日期\" v-if=roleadmin>\r\n        <el-date-picker\r\n        style=\"width: 150px\"\r\n        value-format=\"yyyy-MM-dd\"\r\n        v-model=\"formInline.date\"\r\n        type=\"date\"\r\n        placeholder=\"选择日期\">\r\n        </el-date-picker>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n      <el-button v-if=roleadmin type=\"primary\" @click=\"Sync\" :loading=\"loading\">同步数据源</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\n// import channelServ from '@/api/channel'\r\nimport servers from '@/api/servers'\r\nexport default {\r\n  data() {\r\n    return {\r\n      formInline: {\r\n        ip: '',\r\n        date: '',\r\n        name: '',\r\n        cluster: '',\r\n        host: '',\r\n        project: '',\r\n      },\r\n      projects:{\r\n      },\r\n      datas: {\r\n      },\r\n      loading:false,\r\n      roleadmin: false,\r\n    }\r\n  },\r\n  created() {\r\n            var role = this.$store.getters.role\r\n            if (role.filter(item => item == 'admin').length > 0) {\r\n              this.roleadmin = true;\r\n            };\r\n            new Promise((resolve, reject) => {\r\n              servers.getChannels().then(res => {\r\n                  // console.log(res.data.data)\r\n                  this.datas=res.data.data;\r\n                  resolve()\r\n              }).catch(error => {\r\n                  reject(error)\r\n              })\r\n          })\r\n        },\r\n  methods: {\r\n    onSubmit: function() {\r\n      // var sd = require('silly-datetime');\r\n      // this.formInline.date = sd.format(this.formInline.date, 'YYYY-MM-DD');\r\n      this.$emit(\"onSubmit\",this.formInline);\r\n    },\r\n    async regionChange(value) {\r\n      this.projects = this.datas.projects.filter((item) => item.cluster_name === value)[0].projects_map;\r\n    },\r\n    Sync() {\r\n      this.loading=true;\r\n      servers.Syncdata();\r\n      setTimeout(() => {this.loading=false},100000);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchItem.vue?vue&type=template&id=eeba9502&\"\nimport script from \"./SearchItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{style:({ display: _vm.download })},[_c('download-excel',{attrs:{\"data\":_vm.tableData,\"fields\":_vm.json_fields,\"type\":\"csv\",\"worksheet\":\"servers\",\"name\":\"servers.xls\"}},[_c('el-button',{attrs:{\"type\":\"success\"}},[_vm._v(\" 导出excel\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"name\",\"label\":\"名称\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"uuid\",\"label\":\"uuid\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"project\",\"label\":\"项目\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"status\",\"label\":\"状态\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"ip\",\"label\":\"IP\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"flavor\",\"label\":\"配置\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"disk\",\"label\":\"硬盘(G)\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"host\",\"label\":\"宿主机\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"created\",\"label\":\"创建时间\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"cluster\",\"label\":\"可用区\"}}),(_vm.roleadmin)?_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"控制台\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.CreateVNCConsole(scope.row)}}},[_vm._v(\"进入控制台\")])]}}],null,false,3934009450)}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div :style=\"{ display: download }\">\r\n      <download-excel\r\n        :data=\"tableData\"\r\n        :fields=\"json_fields\"\r\n        type=\"csv\"\r\n        worksheet=\"servers\"\r\n        name=\"servers.xls\"\r\n      >\r\n        <el-button type=\"success\"> 导出excel</el-button>\r\n      </download-excel>\r\n    </div>\r\n    <el-table :data=\"tableData\" stripe style=\"width: 100%\">\r\n      <el-table-column fixed prop=\"name\" label=\"名称\"> </el-table-column>\r\n      <el-table-column fixed prop=\"uuid\" label=\"uuid\"> </el-table-column>\r\n      <el-table-column fixed prop=\"project\" label=\"项目\"> </el-table-column>\r\n      <el-table-column fixed prop=\"status\" label=\"状态\"> </el-table-column>\r\n      <el-table-column fixed prop=\"ip\" label=\"IP\"> </el-table-column>\r\n      <el-table-column fixed prop=\"flavor\" label=\"配置\"> </el-table-column>\r\n      <el-table-column fixed prop=\"disk\" label=\"硬盘(G)\"> </el-table-column>\r\n      <el-table-column fixed prop=\"host\" label=\"宿主机\"> </el-table-column>\r\n      <el-table-column fixed prop=\"created\" label=\"创建时间\"> </el-table-column>\r\n      <el-table-column fixed prop=\"cluster\" label=\"可用区\"> </el-table-column>\r\n      <el-table-column v-if=roleadmin fixed=\"right\" label=\"控制台\" width=\"100\" >\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"CreateVNCConsole(scope.row)\" type=\"text\" size=\"small\"\r\n            >进入控制台</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import channelServ from '@/api/channel'\r\nimport servers from \"@/api/servers\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      json_fields: {\r\n        名称: \"name\",\r\n        uuid: \"uuid\",\r\n        项目: \"project\",\r\n        状态: \"status\",\r\n        IP: \"ip\",\r\n        配置: \"flavor\",\r\n        \"硬盘(G)\": \"disk\",\r\n        宿主机: \"host\",\r\n        创建时间: \"created\",\r\n        可用区: \"cluster\",\r\n      },\r\n      tableData: [],\r\n      download: \"none\",\r\n      roleadmin: false,\r\n    };\r\n  },\r\n  created() {\r\n    var role = this.$store.getters.role\r\n    if (role.filter(item => item == 'admin').length > 0) {\r\n      this.roleadmin = true;\r\n    };\r\n  },\r\n  methods: {\r\n    async getDataMethod(e) {\r\n      let qs = {\r\n        ip: e.ip,\r\n        date: e.date,\r\n        cluster: e.cluster,\r\n        host: e.host,\r\n        project: e.project,\r\n        name: e.name,\r\n      };\r\n      new Promise((resolve, reject) => {\r\n        servers\r\n          .getData(qs)\r\n          .then((res) => {\r\n            this.tableData = [];\r\n            console.log(res.data.data.servers);\r\n            for (var data of res.data.data.servers) {\r\n              this.tableData.push({\r\n                created: data.created,\r\n                uuid: data.uuid,\r\n                name: data.name,\r\n                ip: data.ip.toString(),\r\n                cluster: data.cluster_name,\r\n                flavor: data.flavor.name,\r\n                disk: data.volumes_size,\r\n                status: data.status,\r\n                host: data.node,\r\n                project: data.project,\r\n              });\r\n            }\r\n            this.download = \"block\";\r\n            resolve();\r\n          })\r\n          .catch((error) => {\r\n            reject(error);\r\n          });\r\n      });\r\n    },\r\n    CreateVNCConsole(row) {\r\n      let qs = {\r\n          uuid: row.uuid,\r\n          cluster:row.cluster\r\n      }\r\n      new Promise((resolve, reject) => {\r\n              servers\r\n              .createVNCConsole(qs)\r\n              .then(res => {\r\n                  // console.log(res.data.data)\r\n                  console.log(res)\r\n                  window.open(res.data.data.url,'_blank')\r\n                  resolve()\r\n              }).catch(error => {\r\n                  reject(error)\r\n              })\r\n          })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServerList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServerList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServerList.vue?vue&type=template&id=a152af96&\"\nimport script from \"./ServerList.vue?vue&type=script&lang=js&\"\nexport * from \"./ServerList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<div>\r\n    <div class=\"search\">\r\n        <!-- <Search :serversData=\"datas\" @onSubmit=\"getdata($event)\"/> -->\r\n        <Search  @onSubmit=\"click($event)\"/>\r\n    </div>\r\n    <div>\r\n        <ServerList ref=\"ServerList\"/>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Search from './SearchItem'\r\nimport ServerList from './ServerList'\r\nexport default {\r\n    components: {\r\n        Search,\r\n        ServerList\r\n    },\r\n    methods: {\r\n        click(e) {\r\n                //this.$refs.child.$emit('childMethod','发送给方法一的数据') // 方法1:触发监听事件\r\n                this.$refs.ServerList.getDataMethod(e) // 方法2:直接调用\r\n            },\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=83bd0e48&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\nimport qs from 'qs'\r\n\r\nexport default {\r\n    getChannels() {\r\n        return request({\r\n            url: '/api/v1/servers/ServerList',\r\n            method: 'get'\r\n        })\r\n    },\r\n\r\n    getData(params) {\r\n        let url = '/api/v1/servers/ServerList';\r\n        var pas = qs.stringify(params);\r\n        var resp = url + '?' + pas;\r\n        return request({\r\n            url: resp,\r\n            method: 'get'\r\n        })\r\n    },\r\n\r\n    createBill(params) {\r\n        let url = '/api/v1/servers/CreateBill';\r\n        var pas = qs.stringify(params);\r\n        var resp = url + '?' + pas;\r\n        return request({\r\n            url: resp,\r\n            method: 'get'\r\n        })\r\n    },\r\n    getBill(params) {\r\n        let url = '/api/v1/servers/GetBill';\r\n        var pas = qs.stringify(params);\r\n        var resp = url + '?' + pas;\r\n        return request({\r\n            url: resp,\r\n            method: 'get'\r\n        })\r\n    },\r\n\r\n    Syncdata() {\r\n        let url = '/api/v1/servers/SyncData'\r\n        return request({\r\n            url: url,\r\n            method: 'get'\r\n        })\r\n    },\r\n\r\n    createVNCConsole(params) {\r\n        let url = '/api/v1/servers/CreateVNCConsole'\r\n        return request({\r\n            url: url,\r\n            method: 'post',\r\n            params\r\n        })\r\n    },\r\n}"],"sourceRoot":""}